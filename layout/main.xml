<body id="main">
    <pad>

        <right>
            <hc>
                <bind:dict bind="session"><togglebutton id="alt_speed" icon="pushpin" bind:pressed="alt_speed_enabled" style="mini" text="{Alt speed}" /></bind:dict>
                <button id="start_all" text="{Start all}" icon="play" style="mini" />
                <button id="stop_all" text="{Stop all}" icon="stop" style="mini" />
            </hc>
        </right>

        <hc>
            <button id="refresh" icon="refresh" text="{Refresh}" style="mini" />
            <button id="add" text="{Add torrent}" icon="download-alt" style="mini" />
            <indent>
                <button id="config" text="{Config}" icon="cogs" style="mini" />
                <button id="stats" text="{Stats}" icon="signal" style="mini" />
            </indent>
        </hc>

        <vc>
            <tabs id="status_filter">
                <tab title="{All}" />
                <tab title="{Downloading}" />
                <tab title="{Seeding}" />
                <tab title="{Stopped}" />
            </tabs>

            <bind:collection bind="torrents" id="torrents">
                <dt bind="__items">
                    <dtr>
                        <dth width="1%" />
                        <dth text="{Name}" />
                        <dth width="150" text="{Progress}" />
                        <dth width="40" text="{Priority}" />
                        <dth width="60" text="{Actions}" />
                    </dtr>
                </dt>
                <bind:template>
                    <dtr>
                        <dtd>
                            <tooltip bind="status"><icon bind="icon" /></tooltip>
                        </dtd>
                        <dtd>
                            <right bind:visible="error" bindtransform="bool"><tooltip bind="error_string"><icon icon="exclamation-sign" /></tooltip></right>
                            <collapse>
                                <button id="details" style="link" bind:text="name" />

                                <lt>
                                    <ltr bind:visible="status" bindtransform="lambda s: s == 'downloading'">
                                        <ltd>
                                            <icon icon="hdd" />
                                            <label style="small" bind="size_now" bindtransform="str_fsize" />
                                            <label style="small" text="/" />
                                            <label style="small" bind="size_when_done" bindtransform="str_fsize" />
                                        </ltd>

                                        <ltd>
                                            <icon icon="arrow-down" />
                                            <label style="small" bind="peers_sending_to_us" />
                                            <label style="small" text="@" />
                                            <label style="small" bind="rate_download" bindtransform="str_fsize" />
                                        </ltd>

                                        <ltd>
                                            <icon icon="time" />
                                            <label style="small" bind="eta" bindtransform="str" />
                                        </ltd>
                                    </ltr>

                                    <ltr bind:visible="status" bindtransform="lambda s: s == 'seeding'">
                                        <ltd>
                                            <icon icon="hdd" />
                                            <label style="small" bind="size_now" bindtransform="str_fsize" />
                                        </ltd>

                                        <ltd>
                                            <icon icon="arrow-up" />
                                            <label style="small" bind="peers_getting_from_us" />
                                            <label style="small" text="@" />
                                            <label style="small" bind="rate_upload" bindtransform="str_fsize" />
                                        </ltd>

                                        <ltd>
                                            <icon icon="exchange" />
                                            <label style="small" bind="upload_ratio" />
                                        </ltd>
                                    </ltr>

                                    <ltr bind:visible="status" bindtransform="lambda s: s == 'checking'">
                                        <ltd>
                                            <icon icon="hdd" />
                                            <label style="small" bind="size_now" bindtransform="str_fsize" />
                                        </ltd>

                                        <ltd>
                                            <hc>
                                                <icon icon="stethoscope" />
                                                <label bind="recheck_progress" bindtransform="lambda x: '%0.2f%%' % (x * 100)"  style="mini" />
                                                <progressbar bind="recheck_progress" width="100" />
                                            </hc>
                                        </ltd>
                                    </ltr>

                                    <ltr bind:visible="status" bindtransform="lambda s: s == 'stopped'">
                                        <ltd>
                                            <icon icon="hdd" />
                                            <label style="small" bind="size_now" bindtransform="str_fsize" />
                                            <label style="small" text="/" />
                                            <label style="small" bind="size_when_done" bindtransform="str_fsize" />
                                        </ltd>
                                    </ltr>
                                </lt>
                            </collapse>
                        </dtd>
                        <dtd>
                            <hc>
                                <label bind="percent_done" bindtransform="lambda x: '%0.2f%%' % (x * 100)"  style="mini" />
                                <progressbar bind="percent_done" width="100" />
                            </hc>
                        </dtd>
                        <dtd>
                            <slider bind="bandwidth_priority" width="50" minvalue="-1" maxvalue="1" id="set_priority" />
                        </dtd>
                        <dtd>
                            <hc>
                                <tooltip text="Start"><button id="start" icon="play" style="mini" bind:visible="status" bindtransform="lambda s: s == 'stopped'" /></tooltip>
                                <tooltip text="Stop"><button id="stop" icon="pause" style="mini" bind:visible="status" bindtransform="lambda s: s != 'stopped'" /></tooltip>
                                <tooltip text="Recheck"><button id="recheck" icon="repeat" bind:visible="status" bindtransform="lambda s: s != 'checking'" style="mini" /></tooltip>
                                <tooltip text="Remove"><button bind="__delete" icon="remove" style="mini" warning="Remove the torrent from list?" /></tooltip>
                            </hc>
                        </dtd>
                    </dtr>
                </bind:template>
            </bind:collection>

            <formgroup text="{Torrent info}" bind:visible="torrent" bindtransform="bool" binder:context="torrent">
                <vc>
                    

                    <tabs>
                        <tab title="{Info}">
                            <dt>
                                <dtr>
                                    <dth text="{Name}" width="90" />
                                    <dtd>
                                        <collapse>
                                            <label bind="name" />
                                            <textbox bind="torrent_file" readonly="True" style="big" />
                                        </collapse>
                                    </dtd>
                                    <dth text="{Priority}" />
                                    <dtd>
                                        <lt>
                                            <ltr>
                                                <ltd>
                                                    <label bind="bandwidth_priority" bindtransform="{-1: 'low', 0: 'normal', 1: 'high'}.get" />
                                                </ltd>

                                                <ltd>
                                                    <slider bind="bandwidth_priority" width="60" id="set_torrent_priority" maxvalue="1" minvalue="-1" />
                                                </ltd>
                                            </ltr>
                                        </lt>
                                    </dtd>
                                </dtr>
                                <dtr>
                                    <dth text="{Destionation}" />
                                    <dtd>
                                        <hc>
                                            <pathbox directory="True" style="big" bind="download_dir" id="download_dir" />
                                            <tooltip text="{Move files}"><button style="mini" id="move" icon="ok" /></tooltip>
                                        </hc>
                                    </dtd>
                                    <dth text="{Peers}" />
                                    <dtd>
                                        <lt>
                                            <ltr>
                                                <ltd><icon icon="arrow-down" /><label bind="peers_sending_to_us" /></ltd>
                                                <ltd><icon icon="arrow-up" /><label bind="peers_getting_from_us" /></ltd>
                                                <ltd><icon icon="exchange" /><label bind="peers_connected" /></ltd>
                                            </ltr>
                                        </lt>
                                    </dtd>
                                </dtr>
                                <dtr>
                                    <dth text="{Speed}" />
                                    <dtd>
                                        <lt>
                                            <ltr>
                                                <ltd><icon icon="arrow-down" /><label bind="rate_download" bindtransform="str_fsize" /></ltd>
                                                <ltd><icon icon="arrow-up" /><label bind="rate_upload" bindtransform="str_fsize" /></ltd>
                                                <ltd><icon icon="time" /><label bind="eta" bindtransform="str" /></ltd>
                                            </ltr>
                                        </lt>
                                    </dtd>
                                    <dth text="{Time}" />
                                    <dtd>
                                        <lt>
                                            <ltr>
                                                <ltd><icon icon="arrow-down" /><label bind="seconds_downloading" bindtransform="str" /></ltd>
                                                <ltd><icon icon="arrow-up" /><label bind="seconds_seeding" bindtransform="str" /></ltd>
                                            </ltr>
                                        </lt>
                                    </dtd>
                                </dtr>
                                <dtr>
                                    <dth text="{Volume}" />
                                    <dtd>
                                        <lt>
                                            <ltr>
                                                <ltd><icon icon="arrow-down" /><label bind="downloaded_ever" bindtransform="str_fsize" /></ltd>
                                                <ltd><icon icon="arrow-up" /><label bind="uploaded_ever" bindtransform="str_fsize" /></ltd>
                                                <ltd><icon icon="exchange" /><label bind="upload_ratio" /></ltd>
                                            </ltr>
                                        </lt>
                                    </dtd>
                                    <dth text="{Started at}" />
                                    <dtd>
                                        <label bind="start_date" bindtransform="lambda d: d and d.strftime('%b %d %Y, %H:%M')" />
                                    </dtd>
                                </dtr>
                                <dtr>
                                    <dth text="{Size}" />
                                    <dtd>
                                        <lt>
                                            <ltr>
                                                <ltd>
                                                    <icon icon="download" /><label bind="size_now" bindtransform="str_fsize" />
                                                </ltd>

                                                <ltd>
                                                    <icon icon="hdd" />
                                                    <label bind="size_when_done" bindtransform="str_fsize" />
                                                    <label text="/" />
                                                    <label bind="total_size" bindtransform="str_fsize" />
                                                </ltd>

                                                <ltd>
                                                    <icon icon="copy" />
                                                    <label bind="piece_count" />
                                                    <label text="×" />
                                                    <label bind="piece_size" bindtransform="str_fsize" />
                                                </ltd>
                                            </ltr>
                                        </lt>
                                    </dtd>
                                    <dth text="{Finished at}" />
                                    <dtd>
                                        <label bind="done_date" bindtransform="lambda d: d and d.strftime('%b %d %Y, %H:%M')" />
                                    </dtd>
                                </dtr>
                                <dtr>
                                    <dth text="{Created at}" />
                                    <dtd><label bind="date_created" bindtransform="lambda d: d and d.strftime('%b %d %Y, %H:%M')" /></dtd>
                                    <dth text="{Added at}" />
                                    <dtd><label bind="added_date" bindtransform="lambda d: d and d.strftime('%b %d %Y, %H:%M')" /></dtd>
                                </dtr>
                            </dt>
                        </tab>

                        <tab title="{Limits}">
                            <formline text="{Download limits}">
                                <hc>
                                    <textbox bind="download_limit" type="number" />
                                    <checkbox bind="download_limited" />
                                </hc>
                            </formline>
                            <formline text="{Upload limits}">
                                <hc>
                                    <textbox bind="upload_limit" type="number" />
                                    <checkbox bind="upload_limited" />
                                </hc>
                            </formline>
                            <formline text="{Ratio limits}">
                                <hc>
                                    <textbox bind="seed_ratio_limit" type="number" />
                                    <dropdown values="['global', 'single', 'limited']" labels="['Global', 'Single', 'Limited']" bind="seed_ratio_mode" />
                                </hc>
                            </formline>
                            <formline text="{Global limits}">
                                <checkbox bind="honors_session_limits" text="{Honor session limits}" />
                            </formline>
                            <formline>
                                <button id="apply_limits" text="{Apply changes}" icon="ok" />
                            </formline>
                        </tab>

                        <tab title="{Files}">
                            <bind:collection bind="files" id="files">
                                <button id="apply_files" icon="ok" text="{Apply changes}" />

                                <dt bind="__items">
                                    <dtr>
                                        <dth width="1%" />
                                        <dth text="{Name}" />
                                        <dth text="{Size}" />
                                        <dth text="{Progress}" />
                                        <dth width="40" text="{Priority}" />
                                    </dtr>
                                </dt>
                                <bind:template>
                                    <dtr>
                                        <dtd><checkbox bind="wanted" /></dtd>
                                        <dtd><label bind="name" /></dtd>
                                        <dtd><label bind="bytes_completed" bindtransform="str_fsize" /><label text=" / " /><label bind="length" bindtransform="str_fsize" /></dtd>
                                        <dtd>
                                            <hc>
                                                <label bind="percent_done" bindtransform="lambda x: '%0.2f%%' % (x * 100)" style="mini" />
                                                <progressbar bind="percent_done" width="100" />
                                            </hc>
                                        </dtd>
                                        <dtd>
                                            <slider minvalue="-1" maxvalue="1" bind="priority" width="50" notify="False" />
                                        </dtd>
                                    </dtr>
                                </bind:template>
                            </bind:collection>
                        </tab>

                        <tab title="{Peers}">
                            <bind:collection bind="peers" id="peers">
                                <dt bind="__items">
                                    <dtr>
                                        <dth width="1%" />
                                        <dth text="{Client}" />
                                        <dth width="120" text="{Address}" />
                                        <dth width="180" text="{Speed}" />
                                        <dth width="150" text="{Progress}" />
                                    </dtr>
                                </dt>
                                <bind:template>
                                    <dtr>
                                        <dtd>
                                            <hc>
                                                <tooltip text="{Downloading}"><icon icon="download-alt" bind:visible="is_downloading_from" /></tooltip>
                                                <tooltip text="{Uploading}"><icon icon="upload-alt" bind:visible="is_uploading_to" /></tooltip>

                                                <tooltip text="{μTP}"><icon icon="exchange" bind:visible="is_u_t_p" /></tooltip>
                                                <tooltip text="{Encrypted}"><icon icon="lock" bind:visible="is_encrypted" /></tooltip>

                                                <tooltip text="{I'm interested}"><icon icon="circle-arrow-down" bind:visible="client_is_interesed" /></tooltip>
                                                <tooltip text="{Peer is interested}"><icon icon="circle-arrow-up" bind:visible="peer_is_interesed" /></tooltip>

                                                <tooltip text="{I'm choked}"><icon icon="pause" bind:visible="client_is_choked" /></tooltip>
                                                <tooltip text="{Peer is choked}"><icon icon="stop" bind:visible="peer_is_choked" /></tooltip>
                                            </hc>
                                        </dtd>
                                        <dtd>
                                            <label bind="client_name" />
                                        </dtd>
                                        <dtd>
                                            <label bind="address" /><label text=":" /><label bind="port" />
                                        </dtd>
                                        <dtd>
                                            <lt>
                                                <ltr>
                                                    <ltd><icon icon="arrow-down" /><label bind="rate_to_client" bindtransform="str_fsize" /></ltd>
                                                    <ltd><icon icon="arrow-up" /><label bind="rate_to_peer" bindtransform="str_fsize" /></ltd>
                                                </ltr>
                                            </lt>
                                        </dtd>
                                        <dtd>
                                            <hc>
                                                <label bind="progress" bindtransform="lambda x: '%0.2f%%' % (x * 100)" style="mini" />
                                                <progressbar bind="progress" width="100" />
                                            </hc>
                                        </dtd>
                                    </dtr>
                                </bind:template>
                            </bind:collection>
                        </tab>

                        <tab title="{Trackers}">
                            <bind:collection bind="trackers" id="trackers">
                                <dt bind="__items">
                                    <dtr>
                                        <dth width="1%" />
                                        <dth text="{Announce / scrape}" />
                                        <dth text="{Tier}" />
                                    </dtr>
                                </dt>
                                <bind:template>
                                    <dtr>
                                        <dtd><icon icon="link" /></dtd>
                                        <dtd>
                                            <lt>
                                                <ltr>
                                                    <ltd><icon icon="arrow-up" /></ltd><ltd><label bind="announce" /></ltd>
                                                </ltr>
                                                <ltr>
                                                    <ltd><icon icon="arrow-down" /></ltd><ltd><label bind="scrape" /></ltd>
                                                </ltr>
                                            </lt>
                                        </dtd>
                                        <dtd><label bind="tier" /></dtd>
                                    </dtr>
                                </bind:template>
                            </bind:collection>
                        </tab>

                        <tab title="{Map}">
                            <contentbox width="100%" height="300" bind="pieces" bindtransform="str" />
                        </tab>
                    </tabs>
                </vc>
            </formgroup>
        </vc>

        <right binder:context="session">
            <pad>
                <label text="Version " /><label bind="version" />
                <label text=", API v" /><label bind="rpc_version" />
                <label text=", min " /><label bind="rpc_version_minimum" />
            </pad>
        </right>
    </pad>

    <dialog visible="False" id="add_dialog" buttons="[
        {'id': 'add', 'text': _('Add')},
        {'id': 'cancel', 'text': _('Cancel')}
        ]">
        <pad>
            <formgroup text="{Add new torrent}">
                <tabs>
                    <tab title="{by URL}">
                        <formline text="{URL}">
                            <textbox id="url" />
                        </formline>
                    </tab>
                    <tab title="{from local file}">
                        <formline text="{Local file}">
                            <pathbox id="local_file" />
                        </formline>
                    </tab>
                    <tab title="{from uploaded file}">
                        <formline text="{Upload file}">
                            <fileupload id="upload_file" target="ajenti:transmission-upload" />
                        </formline>
                    </tab>
                </tabs>
            </formgroup>

            <formgroup text="{Download options}">
                <vc>
                    <formline text="{Download to}">
                        <pathbox id="target_dir" directory="True" />
                    </formline>
                    <formline text="{Priority}">
                        <slider id="priority" minvalue="-1" maxvalue="1" width="60" />
                    </formline>
                    <formline>
                        <checkbox text="{Pause on add}" id="add_paused" value="True" />
                    </formline>
                </vc>
            </formgroup>
        </pad>
    </dialog>

    <dialog visible="False" binder:context="session" id="config_dialog" buttons="[
        {'id': 'apply', 'text': _('Apply')},
        {'id': 'cancel', 'text': _('Cancel')}
        ]">
        <pad>
            <tabs>
                <tab title="{Connection}">
                    <formline text="{Maximum peers}">
                        <hc>
                            <textbox type="number" bind="peer_limit_global" style="mini" />
                            <label text="{ / }" />
                            <tooltip text="{Per torrent}"><textbox type="number" bind="peer_limit_per_torrent" style="mini" /></tooltip>
                        </hc>
                    </formline>

                    <formline text="{Blocklist}">
                        <hc>
                            <textbox bind="blocklist_url" />
                            <checkbox bind="blocklist_enabled" />
                        </hc>
                    </formline>
                    <formline text="{Protocols}">
                        <lt>
                            <ltr>
                                <ltd><checkbox text="{DHT}" bind="dht_enabled" /></ltd>
                                <ltd><checkbox text="{PeX}" bind="pex_enabled" /></ltd>
                            </ltr>
                            <ltr>
                                <ltd><checkbox text="{LPD}" bind="lpd_enabled" /></ltd>
                                <ltd><checkbox text="{μTP}" bind="utp_enabled" /></ltd>
                            </ltr>
                        </lt>
                    </formline>
                    <formline text="{Encryption}">
                        <dropdown values="['required', 'preferred', 'tolerated']" labels="['Required', 'Preferred', 'Tolerated']" bind="encryption" />
                    </formline>
                    <formline text="{Peer port}">
                        <hc>
                            <textbox type="number" bind="peer_port" style="mini" />
                            <icon bind="port_is_open" bindtransform="lambda v: 'ok' if v else 'ban-circle'" />
                        </hc>
                        <checkbox text="{Randomize on start}" bind="peer_port_random_on_start" />
                    </formline>
                    <formline text="{Port forwarding}">
                        <checkbox text="{Active}" bind="port_forwarding_enabled" />
                    </formline>
                </tab>

                <tab title="{Storage}">
                    <formline text="{Download directory}">
                        <pathbox directory="True" bind="download_dir" />
                    </formline>
                    <formline text="{Incomplete directory}">
                        <hc>
                            <pathbox directory="True" bind="incomplete_dir" />
                            <checkbox bind="incomplete_dir_enabled" />
                        </hc>
                    </formline>
                    <formline text="{Rename partial files}">
                        <checkbox text="{Active}" bind="rename_partial_files" />
                    </formline>
                    <formline text="{Trash original torrents}">
                        <checkbox text="{Active}" bind="trash_original_torrent_files" />
                    </formline>
                    <formline text="{Cache size}">
                        <hc>
                            <textbox type="number" bind="cache_size_mb" style="mini" />
                            <label text="{MB}" />
                        </hc>
                    </formline>
                </tab>

                <tab title="{Download}">
                    <formline text="{Start new torrents}">
                        <hc>
                            <checkbox text="{Active}" bind="start_added_torrents" />
                        </hc>
                    </formline>
                    <formline text="{Download speed}">
                        <hc>
                            <textbox type="number" bind="speed_limit_down" style="mini" />
                            <checkbox bind="speed_limit_down_enabled" />
                        </hc>
                    </formline>
                    <formline text="{Download queue}">
                        <hc>
                            <textbox type="number" bind="download_queue_size" style="mini" />
                            <checkbox bind="download_queue_enabled" />
                        </hc>
                    </formline>
                    <formline text="{Stall timeout}">
                        <hc>
                            <textbox type="number" bind="queue_stalled_minutes" style="mini" />
                            <checkbox text="{min}" bind="queue_stalled_enabled" />
                        </hc>
                    </formline>
                </tab>

                <tab title="{Upload}">
                    <formline text="{Upload speed}">
                        <hc>
                            <textbox type="number" bind="speed_limit_up" style="mini" />
                            <checkbox bind="speed_limit_up_enabled" />
                        </hc>
                    </formline>
                    <formline text="{Upload queue}">
                        <hc>
                            <textbox type="number" bind="seed_queue_size" style="mini" />
                            <checkbox bind="seed_queue_enabled" />
                        </hc>
                    </formline>
                    <formline text="{Ratio}">
                        <hc>
                            <textbox type="number" bind="seed_ratio_limit" style="mini" />
                            <checkbox bind="seed_ratio_limited" />
                        </hc>
                    </formline>
                    <formline text="{Idle seeding}">
                        <hc>
                            <textbox type="number" bind="idle_seeding_limit" style="mini" />
                            <checkbox bind="idle_seeding_limit_enabled" text="{min}" />
                        </hc>
                    </formline>
                </tab>
                <tab title="{Automate}">
                    <formline text="{Run script on done}">
                        <hc>
                            <pathbox bind="script_torrent_done_filename" />
                            <checkbox bind="script_torrent_done_enabled" />
                        </hc>
                    </formline> 
                    <formgroup text="{Alternate limits}">
                        <vc>
                            <formline text="{Speed limits}">
                                <hc>
                                    <icon icon="arrow-down" /><textbox type="number" bind="alt_speed_down" style="mini" />
                                    <icon icon="arrow-up" /><textbox type="number" bind="alt_speed_up" style="mini" />
                                    <checkbox bind="alt_speed_enabled" />
                                </hc>
                            </formline>
                            <formline text="{Time}">
                                <hc>
                                    <icon icon="time" />
                                    <textbox style="mini" bind="alt_speed_time_begin" />
                                    <icon icon="ellipsis-horizontal" />
                                    <textbox style="mini" bind="alt_speed_time_end" />
                                </hc>
                            </formline>
                            <formline text="{Weekdays}">
                                <bind:dict bind="alt_speed_time_day">
                                    <lt>
                                        <ltr>
                                            <ltd><checkbox text="{S}" bind="Sun" /></ltd>
                                            <ltd><checkbox text="{M}" bind="Mon" /></ltd>
                                            <ltd><checkbox text="{T}" bind="Tue" /></ltd>
                                            <ltd><checkbox text="{W}" bind="Wed" /></ltd>
                                        </ltr>
                                        <ltr>
                                            <ltd><checkbox text="{T}" bind="Thu" /></ltd>
                                            <ltd><checkbox text="{F}" bind="Fri" /></ltd>
                                            <ltd><checkbox text="{S}" bind="Sat" /></ltd>
                                        </ltr>
                                    </lt>
                                </bind:dict>
                            </formline>
                        </vc>
                    </formgroup>
                </tab>
                <tab title="{Units}" binder:context="units">
                    <formline text="{Speed units}">
                        <textbox type="number" style="mini" bind="speed_bytes" />
                        <bind:list bind="speed_units" values="lambda v: map(lambda v: type('', (), {'value': v}), v)">
                            <box><textbox bind="value" style="mini" /></box>
                            <box><textbox bind="value" style="mini" /></box>
                            <box><textbox bind="value" style="mini" /></box>
                            <box><textbox bind="value" style="mini" /></box>
                        </bind:list>
                    </formline>
                    <formline text="{Size units}">
                        <textbox type="number" style="mini" bind="size_bytes" />
                        <bind:list bind="size_units" values="lambda v: map(lambda v: type('', (), {'value': v}), v)">
                            <box><textbox bind="value" style="mini" /></box>
                            <box><textbox bind="value" style="mini" /></box>
                            <box><textbox bind="value" style="mini" /></box>
                            <box><textbox bind="value" style="mini" /></box>
                        </bind:list>
                    </formline>
                    <formline text="{Memory units}">
                        <textbox type="number" style="mini" bind="memory_bytes" />
                        <bind:list bind="memory_units" values="lambda v: map(lambda v: type('', (), {'value': v}), v)">
                            <box><textbox bind="value" style="mini" /></box>
                            <box><textbox bind="value" style="mini" /></box>
                            <box><textbox bind="value" style="mini" /></box>
                            <box><textbox bind="value" style="mini" /></box>
                        </bind:list>
                    </formline>
                </tab>
            </tabs>
        </pad>
    </dialog>

    <dialog visible="False" binder:context="session_stats" id="stats_dialog" buttons="[
        {'id': 'ok', 'text': _('OK')},
        ]">
        <pad>
            <tabs>
                <tab title="{General stats}">
                    <dt>
                        <dtr>
                            <dth text="{Torrents count}" />
                            <dtd>
                                <lt>
                                    <ltr>
                                        <ltd><icon icon="play" /><label bind="active_torrent_count" /></ltd>
                                        <ltd><icon icon="pause" /><label bind="paused_torrent_count" /></ltd>
                                        <ltd><icon icon="exchange" /><label bind="torrent_count" /></ltd>
                                    </ltr>
                                </lt>
                            </dtd>
                        </dtr>

                        <dtr>
                            <dth text="{Speed}" />
                            <dtd>
                                <lt>
                                    <ltr>
                                        <ltd><icon icon="arrow-down" /><label bind="download_speed" bindtransform="str_fsize" /></ltd>
                                        <ltd><icon icon="arrow-up" /><label bind="upload_speed" bindtransform="str_fsize" /></ltd>
                                    </ltr>
                                </lt>
                            </dtd>
                        </dtr>
                    </dt>
                </tab>
                <tab title="{Current stats}">
                    <bind:dict bind="current_stats">
                        <dt>
                            <dtr>
                                <dth text="{Volume}" />
                                <dtd>
                                    <lt>
                                        <ltr>
                                            <ltd><icon icon="arrow-down" /><label bind="downloaded_bytes" bindtransform="str_fsize" /></ltd>
                                            <ltd><icon icon="arrow-up" /><label bind="uploaded_bytes" bindtransform="str_fsize" /></ltd>
                                        </ltr>
                                    </lt>
                                </dtd>
                            </dtr>

                            <dtr>
                                <dth text="{Counts}" />
                                <dtd>
                                    <lt>
                                        <ltr>
                                            <ltd><tooltip text="{Files added}"><icon icon="file" /><label bind="files_added" /></tooltip></ltd>
                                            <ltd><tooltip text="{Session count}"><icon icon="cog" /><label bind="session_count" /></tooltip></ltd>
                                        </ltr>
                                    </lt>
                                </dtd>
                            </dtr>

                            <dtr>
                                <dth text="{Active time}" />
                                <dtd><icon icon="time" /><label bind="seconds_active" bindtransform="str" /></dtd>
                            </dtr>
                        </dt>
                    </bind:dict>
                </tab>
                <tab title="{Cumulative stats}">
                    <bind:dict bind="cumulative_stats">
                        <dt>
                            <dtr>
                                <dth text="{Volume}" />
                                <dtd>
                                    <lt>
                                        <ltr>
                                            <ltd><icon icon="arrow-down" /><label bind="downloaded_bytes" bindtransform="str_fsize" /></ltd>
                                            <ltd><icon icon="arrow-up" /><label bind="uploaded_bytes" bindtransform="str_fsize" /></ltd>
                                        </ltr>
                                    </lt>
                                </dtd>
                            </dtr>

                            <dtr>
                                <dth text="{Counts}" />
                                <dtd>
                                    <lt>
                                        <ltr>
                                            <ltd><tooltip text="{Files added}"><icon icon="file" /><label bind="files_added" /></tooltip></ltd>
                                            <ltd><tooltip text="{Session count}"><icon icon="cog" /><label bind="session_count" /></tooltip></ltd>
                                        </ltr>
                                    </lt>
                                </dtd>
                            </dtr>

                            <dtr>
                                <dth text="{Active time}" />
                                <dtd><icon icon="time" /><label bind="seconds_active" bindtransform="str" /></dtd>
                            </dtr>
                        </dt>
                    </bind:dict>
                </tab>
            </tabs>
        </pad>
    </dialog>

</body>
